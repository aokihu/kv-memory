## Why

记忆系统目前缺乏自动衰退机制，导致记忆节点无法根据使用频率、时间衰减和结构关系动态调整其活跃状态。这会导致记忆系统随时间推移积累大量低价值记忆，影响检索效率和系统性能。现在需要实现记忆衰退算法，使记忆能够自然演化、沉底、合并或淘汰，保持记忆系统的健康状态。

## What Changes

1. **实现记忆衰退算法**
   - 基于使用行为、结构关系和时间衰减计算记忆得分
   - 支持可配置的衰退参数

2. **扩展记忆元数据**
   - 在 `meta` 中添加 `score` 字段（范围 0-100，初始值 50）
   - `score` 作为派生状态，不应被外部直接修改

3. **添加定时任务系统**
   - 每15分钟自动执行衰退计算
   - 服务器启动时（HTTP 或 MCP）自动初始化定时任务

4. **更新记忆生命周期管理**
   - 基于 `score` 值调整记忆状态（active/cold/deprecated）
   - 提供记忆状态查询和过滤功能

## Capabilities

### New Capabilities
- **memory-decay-algorithm**: 记忆衰退算法的核心实现，包括得分计算、状态转换和定时调度
- **memory-lifecycle-management**: 基于得分的记忆生命周期管理，支持状态查询和过滤

### Modified Capabilities
- **memory-storage**: 需要扩展记忆模型 Schema，在 `meta` 中添加 `score` 字段
- **memory-api**: 可能需要添加记忆状态查询接口（可选，视需求而定）

## Impact

### 受影响代码
- `src/type.ts` - 记忆模型 Schema 扩展
- `src/libs/kv/kv.ts` - KV 操作逻辑更新，支持 `score` 字段
- 新增 `src/libs/decay/` 目录 - 衰退算法实现
- 新增 `src/libs/scheduler/` 目录 - 定时任务调度器

### 依赖关系
- 使用 Bun 的 `setInterval` 实现定时任务
- 保持与现有记忆系统的向后兼容性

### 系统影响
- 定时任务会增加系统负载，但每15分钟一次的计算频率应可接受
- 记忆查询可能需要考虑 `score` 过滤
- 现有记忆数据需要初始化 `score = 50`

### 性能考虑
- 衰退计算需要遍历所有记忆节点，应考虑分批处理
- 需要确保并发安全，避免定时任务与正常操作冲突